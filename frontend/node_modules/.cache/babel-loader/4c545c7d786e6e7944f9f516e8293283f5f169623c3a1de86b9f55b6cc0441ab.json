{"ast":null,"code":"var _jsxFileName = \"D:\\\\evento_app\\\\frontend\\\\src\\\\pages\\\\Registro.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { API_URL } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Registro() {\n  _s();\n  const [form, setForm] = useState({\n    nombre: '',\n    cedula: '',\n    email: '',\n    cargo: '',\n    entidad: ''\n  });\n  const [qr, setQr] = useState(null);\n  const [mensaje, setMensaje] = useState('');\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMensaje('');\n    setQr(null);\n    try {\n      const {\n        data\n      } = await axios.post(`${API_URL}/inscripcion`, form);\n\n      // ✅ Mostrar mensaje y QR devuelto (nuevo o existente)\n      setQr(data.qrCode);\n      setMensaje(data.mensaje || 'Inscripción registrada exitosamente');\n    } catch (error) {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 409) {\n        // 409 = ya está registrada\n        setMensaje(error.response.data.error);\n      } else {\n        console.error(error);\n        setMensaje('❌ Error al registrar la inscripción. Intenta de nuevo.');\n      }\n    }\n  };\n  const handleDescargar = () => {\n    if (!qr) return;\n    const link = document.createElement('a');\n    const nombreArchivo = `qr_${form.nombre.replace(/\\s+/g, '_')}_${form.cedula}.png`;\n    link.href = qr;\n    link.download = nombreArchivo;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '700px',\n      margin: '40px auto',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Registro al Evento\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: 'grid',\n        gap: '10px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"nombre\",\n        placeholder: \"Nombre completo\",\n        value: form.nombre,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cedula\",\n        placeholder: \"C\\xE9dula\",\n        value: form.cedula,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        placeholder: \"Email\",\n        type: \"email\",\n        value: form.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cargo\",\n        placeholder: \"Cargo / Rol\",\n        value: form.cargo,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"entidad\",\n        placeholder: \"Entidad / Empresa\",\n        value: form.entidad,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '6px',\n          padding: '10px 20px',\n          cursor: 'pointer',\n          fontSize: '16px'\n        },\n        children: \"Registrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), mensaje && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        color: mensaje.includes('registrada') ? 'orange' : 'green'\n      },\n      children: mensaje\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }, this), qr && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"C\\xF3digo QR generado:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: qr,\n        alt: \"QR de confirmaci\\xF3n\",\n        style: {\n          width: '100%',\n          height: 'auto',\n          maxWidth: '600px',\n          border: '2px solid #ccc',\n          borderRadius: '8px',\n          padding: '5px',\n          backgroundColor: 'white',\n          display: 'block',\n          margin: '0 auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDescargar,\n        style: {\n          marginTop: '15px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '8px',\n          padding: '10px 20px',\n          cursor: 'pointer',\n          fontSize: '16px'\n        },\n        children: \"\\uD83D\\uDCE5 Descargar QR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Registro, \"Zqe/ZW4uAMPGhkvnxz74F9eO79g=\");\n_c = Registro;\nvar _c;\n$RefreshReg$(_c, \"Registro\");","map":{"version":3,"names":["React","useState","axios","API_URL","jsxDEV","_jsxDEV","Registro","_s","form","setForm","nombre","cedula","email","cargo","entidad","qr","setQr","mensaje","setMensaje","handleChange","e","target","name","value","handleSubmit","preventDefault","data","post","qrCode","error","_error$response","response","status","console","handleDescargar","link","document","createElement","nombreArchivo","replace","href","download","body","appendChild","click","removeChild","style","maxWidth","margin","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","gap","marginBottom","placeholder","onChange","required","type","backgroundColor","color","border","borderRadius","padding","cursor","fontSize","fontWeight","includes","src","alt","width","height","onClick","marginTop","_c","$RefreshReg$"],"sources":["D:/evento_app/frontend/src/pages/Registro.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { API_URL } from '../api';\n\nexport default function Registro() {\n  const [form, setForm] = useState({\n    nombre: '',\n    cedula: '',\n    email: '',\n    cargo: '',\n    entidad: ''\n  });\n  const [qr, setQr] = useState(null);\n  const [mensaje, setMensaje] = useState('');\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMensaje('');\n    setQr(null);\n\n    try {\n      const { data } = await axios.post(`${API_URL}/inscripcion`, form);\n\n      // ✅ Mostrar mensaje y QR devuelto (nuevo o existente)\n      setQr(data.qrCode);\n      setMensaje(data.mensaje || 'Inscripción registrada exitosamente');\n\n    } catch (error) {\n      if (error.response?.status === 409) {\n        // 409 = ya está registrada\n        setMensaje(error.response.data.error);\n      } else {\n        console.error(error);\n        setMensaje('❌ Error al registrar la inscripción. Intenta de nuevo.');\n      }\n    }\n  };\n\n  const handleDescargar = () => {\n    if (!qr) return;\n    const link = document.createElement('a');\n    const nombreArchivo = `qr_${form.nombre.replace(/\\s+/g, '_')}_${form.cedula}.png`;\n    link.href = qr;\n    link.download = nombreArchivo;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  return (\n    <div style={{ maxWidth: '700px', margin: '40px auto', textAlign: 'center' }}>\n      <h2>Registro al Evento</h2>\n\n      <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '10px', marginBottom: '20px' }}>\n        <input name=\"nombre\" placeholder=\"Nombre completo\" value={form.nombre} onChange={handleChange} required />\n        <input name=\"cedula\" placeholder=\"Cédula\" value={form.cedula} onChange={handleChange} required />\n        <input name=\"email\" placeholder=\"Email\" type=\"email\" value={form.email} onChange={handleChange} required />\n        <input name=\"cargo\" placeholder=\"Cargo / Rol\" value={form.cargo} onChange={handleChange} />\n        <input name=\"entidad\" placeholder=\"Entidad / Empresa\" value={form.entidad} onChange={handleChange} />\n        <button\n          type=\"submit\"\n          style={{\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            padding: '10px 20px',\n            cursor: 'pointer',\n            fontSize: '16px'\n          }}\n        >\n          Registrar\n        </button>\n      </form>\n\n      {mensaje && <p style={{ fontWeight: 'bold', color: mensaje.includes('registrada') ? 'orange' : 'green' }}>{mensaje}</p>}\n\n      {qr && (\n        <div>\n          <h3>Código QR generado:</h3>\n          <img\n            src={qr}\n            alt=\"QR de confirmación\"\n            style={{\n              width: '100%',\n              height: 'auto',\n              maxWidth: '600px',\n              border: '2px solid #ccc',\n              borderRadius: '8px',\n              padding: '5px',\n              backgroundColor: 'white',\n              display: 'block',\n              margin: '0 auto'\n            }}\n          />\n          <button\n            onClick={handleDescargar}\n            style={{\n              marginTop: '15px',\n              backgroundColor: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              padding: '10px 20px',\n              cursor: 'pointer',\n              fontSize: '16px'\n            }}\n            >\n            📥 Descargar QR\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}