{"ast":null,"code":"var _jsxFileName = \"D:\\\\evento_app\\\\frontend\\\\src\\\\pages\\\\Confirmacion.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from \"react\";\nimport QrScanner from \"react-qr-scanner\";\nimport axios from \"axios\";\nimport { API_URL } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Confirmacion() {\n  _s();\n  const [mensaje, setMensaje] = useState(\"\");\n  const [tipoMensaje, setTipoMensaje] = useState(\"\");\n  const [autenticado, setAutenticado] = useState(false);\n  const [credenciales, setCredenciales] = useState({\n    usuario: \"\",\n    contrasena: \"\"\n  });\n  const [qrKey, setQrKey] = useState(Date.now()); // 🔁 Forzar reinicio controlado del escáner\n  const manualRef = useRef();\n  const ultimoEscaneo = useRef(\"\");\n\n  // 🟢 Vibración + sonido\n  const playFeedback = (success = true) => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioCtx.createOscillator();\n    const gainNode = audioCtx.createGain();\n    oscillator.connect(gainNode);\n    gainNode.connect(audioCtx.destination);\n    oscillator.type = success ? \"sine\" : \"square\";\n    oscillator.frequency.setValueAtTime(success ? 880 : 220, audioCtx.currentTime);\n    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);\n    oscillator.start();\n    oscillator.stop(audioCtx.currentTime + 0.2);\n    if (navigator.vibrate) navigator.vibrate(success ? [80, 30, 80] : [250]);\n  };\n\n  // 🟢 Login\n  const login = async () => {\n    if (!credenciales.usuario || !credenciales.contrasena) {\n      setMensaje(\"⚠️ Debes ingresar usuario y contraseña\");\n      setTipoMensaje(\"error\");\n      return;\n    }\n    try {\n      const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n      await axios.post(`${API_URL}/login`, {}, {\n        headers: {\n          Authorization: `Basic ${cred}`\n        }\n      });\n      setAutenticado(true);\n      setMensaje(\"\");\n    } catch (error) {\n      var _error$response;\n      setTipoMensaje(\"error\");\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setMensaje(\"❌ Usuario o contraseña incorrectos\");\n      } else {\n        setMensaje(\"⚠️ Error de conexión con el servidor\");\n      }\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") login();\n  };\n\n  // 🟢 Confirmar asistencia\n  const confirmar = useCallback(async cedula => {\n    if (!cedula) return;\n    try {\n      const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n      const {\n        data\n      } = await axios.post(`${API_URL}/confirmar`, {\n        cedula\n      }, {\n        headers: {\n          Authorization: `Basic ${cred}`\n        }\n      });\n      playFeedback(true);\n      setTipoMensaje(\"exito\");\n      setMensaje(data.mensaje || \"✅ Asistencia confirmada\");\n      setTimeout(() => setMensaje(\"\"), 600);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data, _err$response2$data$m;\n      console.error(\"Error:\", err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        // ❌ Error real → pausa (no reinicia)\n        playFeedback(false);\n        setTipoMensaje(\"error\");\n        setMensaje(\"❌ No se encontró la inscripción\");\n        return;\n      }\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && (_err$response2$data$m = _err$response2$data.mensaje) !== null && _err$response2$data$m !== void 0 && _err$response2$data$m.includes(\"ya\")) {\n        playFeedback(true);\n        setTipoMensaje(\"exito\");\n        setMensaje(\"✅ Ya estaba confirmada\");\n        setTimeout(() => setMensaje(\"\"), 600);\n        return;\n      }\n      playFeedback(false);\n      setTipoMensaje(\"error\");\n      setMensaje(\"⚠️ Error confirmando asistencia\");\n    } finally {\n      // 🔁 Reinicio suave del escáner después de cada lectura\n      setTimeout(() => {\n        ultimoEscaneo.current = \"\";\n        setQrKey(Date.now()); // fuerza refresco del componente sin romper el flujo\n      }, 500);\n    }\n  }, [credenciales]);\n\n  // 🟢 Escaneo QR\n  const handleScan = data => {\n    if (data && data.text) {\n      const texto = data.text.trim();\n      if (texto === ultimoEscaneo.current) return;\n      ultimoEscaneo.current = texto;\n      const cedula = texto.replace(\"cedula:\", \"\").trim();\n      confirmar(cedula);\n    }\n  };\n  const handleError = err => console.error(\"Error al escanear:\", err);\n\n  // 🟢 Login UI\n  if (!autenticado) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        textAlign: \"center\",\n        maxWidth: 400,\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Ingreso de Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Usuario\",\n        value: credenciales.usuario,\n        onChange: e => setCredenciales({\n          ...credenciales,\n          usuario: e.target.value\n        }),\n        onKeyDown: handleKeyDown,\n        style: {\n          width: \"100%\",\n          padding: 8,\n          marginBottom: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a\",\n        value: credenciales.contrasena,\n        onChange: e => setCredenciales({\n          ...credenciales,\n          contrasena: e.target.value\n        }),\n        onKeyDown: handleKeyDown,\n        style: {\n          width: \"100%\",\n          padding: 8,\n          marginBottom: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        style: {\n          width: \"100%\",\n          padding: \"10px 12px\",\n          backgroundColor: \"#007bff\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"8px\",\n          cursor: \"pointer\"\n        },\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), mensaje && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          marginTop: 10\n        },\n        children: mensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 🟢 Vista principal\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Confirmar Asistencia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Escanea el QR o ingresa la c\\xE9dula manualmente.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 400,\n        margin: \"0 auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(QrScanner, {\n        // 🔁 reinicio controlado\n        delay: 100,\n        onError: handleError,\n        onScan: handleScan,\n        style: {\n          width: \"100%\"\n        }\n      }, qrKey, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"C\\xE9dula (manual)\",\n        ref: manualRef,\n        style: {\n          padding: 6,\n          marginRight: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => confirmar(manualRef.current.value),\n        style: {\n          padding: \"6px 12px\",\n          marginRight: 8\n        },\n        children: \"Confirmar manual\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"white\",\n          borderRadius: 16,\n          padding: \"40px 60px\",\n          textAlign: \"center\",\n          boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 80\n          },\n          children: tipoMensaje === \"exito\" ? \"✅\" : \"❌\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 10,\n            color: tipoMensaje === \"exito\" ? \"#28a745\" : \"#dc3545\"\n          },\n          children: mensaje\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n_s(Confirmacion, \"0gvR+SYGJJBwCk+stlEKM4mSEWo=\");\n_c = Confirmacion;\nvar _c;\n$RefreshReg$(_c, \"Confirmacion\");","map":{"version":3,"names":["React","useState","useRef","useCallback","QrScanner","axios","API_URL","jsxDEV","_jsxDEV","Confirmacion","_s","mensaje","setMensaje","tipoMensaje","setTipoMensaje","autenticado","setAutenticado","credenciales","setCredenciales","usuario","contrasena","qrKey","setQrKey","Date","now","manualRef","ultimoEscaneo","playFeedback","success","audioCtx","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","type","frequency","setValueAtTime","currentTime","gain","start","stop","navigator","vibrate","login","cred","btoa","post","headers","Authorization","error","_error$response","response","status","handleKeyDown","e","key","confirmar","cedula","data","setTimeout","err","_err$response","_err$response2","_err$response2$data","_err$response2$data$m","console","includes","current","handleScan","text","texto","trim","replace","handleError","style","padding","textAlign","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onKeyDown","width","marginBottom","onClick","backgroundColor","color","border","borderRadius","cursor","marginTop","delay","onError","onScan","ref","marginRight","position","top","left","right","bottom","display","alignItems","justifyContent","zIndex","boxShadow","fontSize","_c","$RefreshReg$"],"sources":["D:/evento_app/frontend/src/pages/Confirmacion.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport QrScanner from \"react-qr-scanner\";\nimport axios from \"axios\";\nimport { API_URL } from \"../api\";\n\nexport default function Confirmacion() {\n  const [mensaje, setMensaje] = useState(\"\");\n  const [tipoMensaje, setTipoMensaje] = useState(\"\");\n  const [autenticado, setAutenticado] = useState(false);\n  const [credenciales, setCredenciales] = useState({ usuario: \"\", contrasena: \"\" });\n  const [qrKey, setQrKey] = useState(Date.now()); // 🔁 Forzar reinicio controlado del escáner\n  const manualRef = useRef();\n  const ultimoEscaneo = useRef(\"\");\n\n  // 🟢 Vibración + sonido\n  const playFeedback = (success = true) => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioCtx.createOscillator();\n    const gainNode = audioCtx.createGain();\n    oscillator.connect(gainNode);\n    gainNode.connect(audioCtx.destination);\n    oscillator.type = success ? \"sine\" : \"square\";\n    oscillator.frequency.setValueAtTime(success ? 880 : 220, audioCtx.currentTime);\n    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);\n    oscillator.start();\n    oscillator.stop(audioCtx.currentTime + 0.2);\n    if (navigator.vibrate) navigator.vibrate(success ? [80, 30, 80] : [250]);\n  };\n\n  // 🟢 Login\n  const login = async () => {\n    if (!credenciales.usuario || !credenciales.contrasena) {\n      setMensaje(\"⚠️ Debes ingresar usuario y contraseña\");\n      setTipoMensaje(\"error\");\n      return;\n    }\n\n    try {\n      const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n      await axios.post(`${API_URL}/login`, {}, { headers: { Authorization: `Basic ${cred}` } });\n      setAutenticado(true);\n      setMensaje(\"\");\n    } catch (error) {\n      setTipoMensaje(\"error\");\n      if (error.response?.status === 401) {\n        setMensaje(\"❌ Usuario o contraseña incorrectos\");\n      } else {\n        setMensaje(\"⚠️ Error de conexión con el servidor\");\n      }\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") login();\n  };\n\n  // 🟢 Confirmar asistencia\n  const confirmar = useCallback(\n    async (cedula) => {\n      if (!cedula) return;\n\n      try {\n        const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n        const { data } = await axios.post(\n          `${API_URL}/confirmar`,\n          { cedula },\n          { headers: { Authorization: `Basic ${cred}` } }\n        );\n\n        playFeedback(true);\n        setTipoMensaje(\"exito\");\n        setMensaje(data.mensaje || \"✅ Asistencia confirmada\");\n\n        setTimeout(() => setMensaje(\"\"), 600);\n      } catch (err) {\n        console.error(\"Error:\", err);\n\n        if (err.response?.status === 404) {\n          // ❌ Error real → pausa (no reinicia)\n          playFeedback(false);\n          setTipoMensaje(\"error\");\n          setMensaje(\"❌ No se encontró la inscripción\");\n          return;\n        }\n\n        if (err.response?.data?.mensaje?.includes(\"ya\")) {\n          playFeedback(true);\n          setTipoMensaje(\"exito\");\n          setMensaje(\"✅ Ya estaba confirmada\");\n          setTimeout(() => setMensaje(\"\"), 600);\n          return;\n        }\n\n        playFeedback(false);\n        setTipoMensaje(\"error\");\n        setMensaje(\"⚠️ Error confirmando asistencia\");\n      } finally {\n        // 🔁 Reinicio suave del escáner después de cada lectura\n        setTimeout(() => {\n          ultimoEscaneo.current = \"\";\n          setQrKey(Date.now()); // fuerza refresco del componente sin romper el flujo\n        }, 500);\n      }\n    },\n    [credenciales]\n  );\n\n  // 🟢 Escaneo QR\n  const handleScan = (data) => {\n    if (data && data.text) {\n      const texto = data.text.trim();\n      if (texto === ultimoEscaneo.current) return;\n      ultimoEscaneo.current = texto;\n\n      const cedula = texto.replace(\"cedula:\", \"\").trim();\n      confirmar(cedula);\n    }\n  };\n\n  const handleError = (err) => console.error(\"Error al escanear:\", err);\n\n  // 🟢 Login UI\n  if (!autenticado) {\n    return (\n      <div style={{ padding: 20, textAlign: \"center\", maxWidth: 400, margin: \"0 auto\" }}>\n        <h2>Ingreso de Usuario</h2>\n        <input\n          placeholder=\"Usuario\"\n          value={credenciales.usuario}\n          onChange={(e) => setCredenciales({ ...credenciales, usuario: e.target.value })}\n          onKeyDown={handleKeyDown}\n          style={{ width: \"100%\", padding: 8, marginBottom: 10 }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Contraseña\"\n          value={credenciales.contrasena}\n          onChange={(e) => setCredenciales({ ...credenciales, contrasena: e.target.value })}\n          onKeyDown={handleKeyDown}\n          style={{ width: \"100%\", padding: 8, marginBottom: 10 }}\n        />\n        <button\n          onClick={login}\n          style={{\n            width: \"100%\",\n            padding: \"10px 12px\",\n            backgroundColor: \"#007bff\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: \"pointer\",\n          }}\n        >\n          Ingresar\n        </button>\n        {mensaje && <p style={{ color: \"red\", marginTop: 10 }}>{mensaje}</p>}\n      </div>\n    );\n  }\n\n  // 🟢 Vista principal\n  return (\n    <div style={{ padding: 20, textAlign: \"center\" }}>\n      <h2>Confirmar Asistencia</h2>\n      <p>Escanea el QR o ingresa la cédula manualmente.</p>\n\n      <div style={{ maxWidth: 400, margin: \"0 auto\" }}>\n        <QrScanner\n          key={qrKey} // 🔁 reinicio controlado\n          delay={100}\n          onError={handleError}\n          onScan={handleScan}\n          style={{ width: \"100%\" }}\n        />\n      </div>\n\n      <div style={{ marginTop: 20 }}>\n        <input placeholder=\"Cédula (manual)\" ref={manualRef} style={{ padding: 6, marginRight: 10 }} />\n        <button onClick={() => confirmar(manualRef.current.value)} style={{ padding: \"6px 12px\", marginRight: 8 }}>\n          Confirmar manual\n        </button>\n      </div>\n\n      {/* 🟢 Modal centrado */}\n      {mensaje && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 9999,\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: \"white\",\n              borderRadius: 16,\n              padding: \"40px 60px\",\n              textAlign: \"center\",\n              boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\",\n            }}\n          >\n            <div style={{ fontSize: 80 }}>{tipoMensaje === \"exito\" ? \"✅\" : \"❌\"}</div>\n            <h3 style={{ marginTop: 10, color: tipoMensaje === \"exito\" ? \"#28a745\" : \"#dc3545\" }}>{mensaje}</h3>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}