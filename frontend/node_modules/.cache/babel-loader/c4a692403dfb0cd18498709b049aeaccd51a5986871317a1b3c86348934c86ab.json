{"ast":null,"code":"import _objectSpread from\"D:/evento_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef}from\"react\";import{QrReader}from\"react-qr-reader\";import axios from\"axios\";import{API_URL}from\"../api\";import logo from\"../assets/logo.png\";// ✅ asegúrate de tener este archivo\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Confirmacion(){const[mensaje,setMensaje]=useState(\"\");const[tipoMensaje,setTipoMensaje]=useState(\"\");const[autenticado,setAutenticado]=useState(false);const[credenciales,setCredenciales]=useState({usuario:\"\",contrasena:\"\"});const manualRef=useRef();const ultimoEscaneo=useRef(\"\");const bloqueado=useRef(false);const playFeedback=function(){let success=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;const audioCtx=new(window.AudioContext||window.webkitAudioContext)();const oscillator=audioCtx.createOscillator();const gainNode=audioCtx.createGain();oscillator.connect(gainNode);gainNode.connect(audioCtx.destination);oscillator.type=success?\"sine\":\"square\";oscillator.frequency.setValueAtTime(success?880:220,audioCtx.currentTime);gainNode.gain.setValueAtTime(0.1,audioCtx.currentTime);oscillator.start();oscillator.stop(audioCtx.currentTime+0.2);if(navigator.vibrate)navigator.vibrate(success?[80,30,80]:[250]);};const login=async()=>{if(!credenciales.usuario||!credenciales.contrasena){setMensaje(\"⚠️ Debes ingresar usuario y contraseña\");setTipoMensaje(\"error\");return;}try{const cred=btoa(\"\".concat(credenciales.usuario,\":\").concat(credenciales.contrasena));await axios.post(\"\".concat(API_URL,\"/login\"),{},{headers:{Authorization:\"Basic \".concat(cred)}});setAutenticado(true);setMensaje(\"\");}catch(error){var _error$response;setTipoMensaje(\"error\");if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){setMensaje(\"❌ Usuario o contraseña incorrectos\");}else{setMensaje(\"⚠️ Error de conexión con el servidor\");}}};const handleKeyDown=e=>{if(e.key===\"Enter\")login();};async function confirmar(cedula){if(!cedula||bloqueado.current)return;bloqueado.current=true;setMensaje(\"\");try{const cred=btoa(\"\".concat(credenciales.usuario,\":\").concat(credenciales.contrasena));const{data}=await axios.post(\"\".concat(API_URL,\"/confirmar\"),{cedula},{headers:{Authorization:\"Basic \".concat(cred)}});playFeedback(true);setTipoMensaje(\"exito\");setMensaje(data.mensaje||\"✅ Asistencia confirmada\");setTimeout(()=>setMensaje(\"\"),800);}catch(err){var _err$response;playFeedback(false);setTipoMensaje(\"error\");if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===404)setMensaje(\"❌ No se encontró la inscripción\");else setMensaje(\"⚠️ Error confirmando asistencia\");}finally{setTimeout(()=>{bloqueado.current=false;ultimoEscaneo.current=\"\";},1000);}}const handleScan=data=>{if(data!==null&&data!==void 0&&data.text){const texto=data.text.trim();if(texto===ultimoEscaneo.current)return;ultimoEscaneo.current=texto;const cedula=texto.replace(\"cedula:\",\"\").trim();confirmar(cedula);}};const handleError=err=>console.error(\"Error QR:\",err);// 🟢 Login UI\nif(!autenticado){return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"30px\",background:\"linear-gradient(135deg, #00C3FF, #004E92)\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"white\",padding:40,borderRadius:16,boxShadow:\"0 6px 20px rgba(0,0,0,0.2)\",textAlign:\"center\",width:\"90%\",maxWidth:480},children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo Aries\",style:{width:180,marginBottom:20}}),/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#004E92\",marginBottom:20},children:\"Ingreso de Usuario\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Usuario\",value:credenciales.usuario,onChange:e=>setCredenciales(_objectSpread(_objectSpread({},credenciales),{},{usuario:e.target.value})),onKeyDown:handleKeyDown,style:{width:\"100%\",padding:10,marginBottom:12,borderRadius:8,border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Contrase\\xF1a\",value:credenciales.contrasena,onChange:e=>setCredenciales(_objectSpread(_objectSpread({},credenciales),{},{contrasena:e.target.value})),onKeyDown:handleKeyDown,style:{width:\"100%\",padding:10,marginBottom:20,borderRadius:8,border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:login,style:{width:\"100%\",padding:\"10px 12px\",background:\"linear-gradient(90deg, #00C3FF, #004E92)\",color:\"white\",border:\"none\",borderRadius:8,cursor:\"pointer\",fontWeight:\"bold\"},children:\"Ingresar\"}),mensaje&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"#C00000\",marginTop:10,fontWeight:\"bold\"},children:mensaje})]})});}// 🟢 Vista principal\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,textAlign:\"center\",backgroundColor:\"#f5f5f5\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo Aries\",style:{width:150,marginBottom:10}}),/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#004E92\"},children:\"Confirmar Asistencia\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Escanea el QR o ingresa la c\\xE9dula manualmente.\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:400,margin:\"20px auto\"},children:/*#__PURE__*/_jsx(QrReader,{constraints:{facingMode:\"environment\"},onResult:(result,error)=>{if(!!result)handleScan(result);if(!!error)handleError(error);},style:{width:\"100%\",borderRadius:8}})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"C\\xE9dula (manual)\",ref:manualRef,style:{padding:8,borderRadius:8,border:\"1px solid #ccc\",marginRight:10}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmar(manualRef.current.value),style:{padding:\"8px 14px\",background:\"linear-gradient(90deg, #00C3FF, #004E92)\",color:\"white\",border:\"none\",borderRadius:8,cursor:\"pointer\",fontWeight:\"bold\"},children:\"Confirmar\"})]}),mensaje&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",top:0,left:0,right:0,bottom:0,backgroundColor:\"rgba(0,0,0,0.5)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:9999},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",borderRadius:16,padding:\"40px 60px\",textAlign:\"center\",boxShadow:\"0 4px 20px rgba(0,0,0,0.3)\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:80},children:tipoMensaje===\"exito\"?\"✅\":\"❌\"}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:10,color:tipoMensaje===\"exito\"?\"#28a745\":\"#C00000\"},children:mensaje}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setMensaje(\"\");setTipoMensaje(\"\");},style:{marginTop:20,padding:\"10px 20px\",borderRadius:10,background:\"linear-gradient(90deg, #00C3FF, #004E92)\",color:\"white\",border:\"none\",fontWeight:\"bold\",cursor:\"pointer\"},children:\"Cerrar\"})]})})]});}","map":{"version":3,"names":["React","useState","useRef","QrReader","axios","API_URL","logo","jsx","_jsx","jsxs","_jsxs","Confirmacion","mensaje","setMensaje","tipoMensaje","setTipoMensaje","autenticado","setAutenticado","credenciales","setCredenciales","usuario","contrasena","manualRef","ultimoEscaneo","bloqueado","playFeedback","success","arguments","length","undefined","audioCtx","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","type","frequency","setValueAtTime","currentTime","gain","start","stop","navigator","vibrate","login","cred","btoa","concat","post","headers","Authorization","error","_error$response","response","status","handleKeyDown","e","key","confirmar","cedula","current","data","setTimeout","err","_err$response","handleScan","text","texto","trim","replace","handleError","console","style","display","alignItems","justifyContent","padding","background","children","borderRadius","boxShadow","textAlign","width","maxWidth","src","alt","marginBottom","color","placeholder","value","onChange","_objectSpread","target","onKeyDown","border","onClick","cursor","fontWeight","marginTop","backgroundColor","minHeight","margin","constraints","facingMode","onResult","result","ref","marginRight","position","top","left","right","bottom","zIndex","fontSize"],"sources":["D:/evento_app/frontend/src/pages/Confirmacion.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { QrReader } from \"react-qr-reader\";\nimport axios from \"axios\";\nimport { API_URL } from \"../api\";\nimport logo from \"../assets/logo.png\"; // ✅ asegúrate de tener este archivo\n\nexport default function Confirmacion() {\n  const [mensaje, setMensaje] = useState(\"\");\n  const [tipoMensaje, setTipoMensaje] = useState(\"\");\n  const [autenticado, setAutenticado] = useState(false);\n  const [credenciales, setCredenciales] = useState({ usuario: \"\", contrasena: \"\" });\n  const manualRef = useRef();\n  const ultimoEscaneo = useRef(\"\");\n  const bloqueado = useRef(false);\n\n  const playFeedback = (success = true) => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioCtx.createOscillator();\n    const gainNode = audioCtx.createGain();\n    oscillator.connect(gainNode);\n    gainNode.connect(audioCtx.destination);\n    oscillator.type = success ? \"sine\" : \"square\";\n    oscillator.frequency.setValueAtTime(success ? 880 : 220, audioCtx.currentTime);\n    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);\n    oscillator.start();\n    oscillator.stop(audioCtx.currentTime + 0.2);\n    if (navigator.vibrate) navigator.vibrate(success ? [80, 30, 80] : [250]);\n  };\n\n  const login = async () => {\n    if (!credenciales.usuario || !credenciales.contrasena) {\n      setMensaje(\"⚠️ Debes ingresar usuario y contraseña\");\n      setTipoMensaje(\"error\");\n      return;\n    }\n\n    try {\n      const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n      await axios.post(`${API_URL}/login`, {}, { headers: { Authorization: `Basic ${cred}` } });\n      setAutenticado(true);\n      setMensaje(\"\");\n    } catch (error) {\n      setTipoMensaje(\"error\");\n      if (error.response?.status === 401) {\n        setMensaje(\"❌ Usuario o contraseña incorrectos\");\n      } else {\n        setMensaje(\"⚠️ Error de conexión con el servidor\");\n      }\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") login();\n  };\n\n  async function confirmar(cedula) {\n    if (!cedula || bloqueado.current) return;\n\n    bloqueado.current = true;\n    setMensaje(\"\");\n\n    try {\n      const cred = btoa(`${credenciales.usuario}:${credenciales.contrasena}`);\n      const { data } = await axios.post(\n        `${API_URL}/confirmar`,\n        { cedula },\n        { headers: { Authorization: `Basic ${cred}` } }\n      );\n\n      playFeedback(true);\n      setTipoMensaje(\"exito\");\n      setMensaje(data.mensaje || \"✅ Asistencia confirmada\");\n\n      setTimeout(() => setMensaje(\"\"), 800);\n    } catch (err) {\n      playFeedback(false);\n      setTipoMensaje(\"error\");\n      if (err.response?.status === 404) setMensaje(\"❌ No se encontró la inscripción\");\n      else setMensaje(\"⚠️ Error confirmando asistencia\");\n    } finally {\n      setTimeout(() => {\n        bloqueado.current = false;\n        ultimoEscaneo.current = \"\";\n      }, 1000);\n    }\n  }\n\n  const handleScan = (data) => {\n    if (data?.text) {\n      const texto = data.text.trim();\n      if (texto === ultimoEscaneo.current) return;\n      ultimoEscaneo.current = texto;\n\n      const cedula = texto.replace(\"cedula:\", \"\").trim();\n      confirmar(cedula);\n    }\n  };\n\n  const handleError = (err) => console.error(\"Error QR:\", err);\n\n  // 🟢 Login UI\n  if (!autenticado) {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          padding: \"30px\",\n          background: \"linear-gradient(135deg, #00C3FF, #004E92)\",\n        }}\n      >\n        <div\n          style={{\n            background: \"white\",\n            padding: 40,\n            borderRadius: 16,\n            boxShadow: \"0 6px 20px rgba(0,0,0,0.2)\",\n            textAlign: \"center\",\n            width: \"90%\",\n            maxWidth: 480,\n          }}\n        >\n          <img src={logo} alt=\"Logo Aries\" style={{ width: 180, marginBottom: 20 }} />\n          <h2 style={{ color: \"#004E92\", marginBottom: 20 }}>Ingreso de Usuario</h2>\n\n          <input\n            placeholder=\"Usuario\"\n            value={credenciales.usuario}\n            onChange={(e) => setCredenciales({ ...credenciales, usuario: e.target.value })}\n            onKeyDown={handleKeyDown}\n            style={{\n              width: \"100%\",\n              padding: 10,\n              marginBottom: 12,\n              borderRadius: 8,\n              border: \"1px solid #ccc\",\n            }}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Contraseña\"\n            value={credenciales.contrasena}\n            onChange={(e) => setCredenciales({ ...credenciales, contrasena: e.target.value })}\n            onKeyDown={handleKeyDown}\n            style={{\n              width: \"100%\",\n              padding: 10,\n              marginBottom: 20,\n              borderRadius: 8,\n              border: \"1px solid #ccc\",\n            }}\n          />\n          <button\n            onClick={login}\n            style={{\n              width: \"100%\",\n              padding: \"10px 12px\",\n              background: \"linear-gradient(90deg, #00C3FF, #004E92)\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: 8,\n              cursor: \"pointer\",\n              fontWeight: \"bold\",\n            }}\n          >\n            Ingresar\n          </button>\n          {mensaje && (\n            <p style={{ color: \"#C00000\", marginTop: 10, fontWeight: \"bold\" }}>{mensaje}</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // 🟢 Vista principal\n  return (\n    <div style={{ padding: 20, textAlign: \"center\", backgroundColor: \"#f5f5f5\", minHeight: \"100vh\" }}>\n      <img src={logo} alt=\"Logo Aries\" style={{ width: 150, marginBottom: 10 }} />\n      <h2 style={{ color: \"#004E92\" }}>Confirmar Asistencia</h2>\n      <p>Escanea el QR o ingresa la cédula manualmente.</p>\n\n      <div style={{ maxWidth: 400, margin: \"20px auto\" }}>\n        <QrReader\n          constraints={{ facingMode: \"environment\" }}\n          onResult={(result, error) => {\n            if (!!result) handleScan(result);\n            if (!!error) handleError(error);\n          }}\n          style={{ width: \"100%\", borderRadius: 8 }}\n        />\n      </div>\n\n      <div style={{ marginTop: 20 }}>\n        <input\n          placeholder=\"Cédula (manual)\"\n          ref={manualRef}\n          style={{\n            padding: 8,\n            borderRadius: 8,\n            border: \"1px solid #ccc\",\n            marginRight: 10,\n          }}\n        />\n        <button\n          onClick={() => confirmar(manualRef.current.value)}\n          style={{\n            padding: \"8px 14px\",\n            background: \"linear-gradient(90deg, #00C3FF, #004E92)\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: 8,\n            cursor: \"pointer\",\n            fontWeight: \"bold\",\n          }}\n        >\n          Confirmar\n        </button>\n      </div>\n\n      {/* 🟢 Modal de resultado */}\n      {mensaje && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 9999,\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: \"white\",\n              borderRadius: 16,\n              padding: \"40px 60px\",\n              textAlign: \"center\",\n              boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\",\n            }}\n          >\n            <div style={{ fontSize: 80 }}>{tipoMensaje === \"exito\" ? \"✅\" : \"❌\"}</div>\n            <h3\n              style={{\n                marginTop: 10,\n                color: tipoMensaje === \"exito\" ? \"#28a745\" : \"#C00000\",\n              }}\n            >\n              {mensaje}\n            </h3>\n            <button\n              onClick={() => {\n                setMensaje(\"\");\n                setTipoMensaje(\"\");\n              }}\n              style={{\n                marginTop: 20,\n                padding: \"10px 20px\",\n                borderRadius: 10,\n                background: \"linear-gradient(90deg, #00C3FF, #004E92)\",\n                color: \"white\",\n                border: \"none\",\n                fontWeight: \"bold\",\n                cursor: \"pointer\",\n              }}\n            >\n              Cerrar\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}